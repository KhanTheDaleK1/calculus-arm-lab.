:root {
    --bg-dark: #0d0d0d;
    --bg-panel: #141414;
    --border: #333;
    --primary: #00ff00;
    --primary-dim: rgba(0, 255, 0, 0.1);
    --text-main: #e0e0e0;
    --text-dim: #888;
    --font-mono: 'Courier New', monospace;
}

body {
    background-color: var(--bg-dark);
    color: var(--text-main);
    font-family: 'Segoe UI', sans-serif;
    margin: 0;
    padding: 0;
    height: 100vh;
    overflow: hidden; /* NO SCROLLBARS */
}

.app-container {
    display: flex;
    flex-direction: column;
    height: 100%;
    padding: 10px;
    box-sizing: border-box;
}

/* HEADER */
header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding-bottom: 10px;
    border-bottom: 1px solid var(--border);
    margin-bottom: 10px;
}
.brand { font-size: 1.2rem; font-weight: bold; color: var(--primary); letter-spacing: 2px; }
.version { font-size: 0.8rem; color: var(--text-dim); }

/* BUTTONS */
button { cursor: pointer; border: none; padding: 8px 15px; font-weight: bold; border-radius: 4px; }
.btn-primary { background: var(--primary); color: black; }
.btn-danger { background: #ff3333; color: white; }
.btn-xs { padding: 2px 8px; font-size: 0.7rem; background: var(--border); color: var(--primary); border: 1px solid var(--primary); }
.btn-action { width: 100%; background: var(--border); color: var(--primary); border: 1px solid var(--primary); padding: 10px; margin-top: 5px; }
.btn-toggle { background: #333; color: white; width: 100%; padding: 10px; }
.btn-toggle.active { background: var(--primary); color: black; }
.sop-btn { padding: 2px 8px; font-size: 0.7rem; background: transparent; color: var(--primary); border: 1px solid var(--primary); border-radius: 4px; }

/* BENTO GRID */
.bento-grid {
    display: grid;
    grid-template-columns: 25% 50% 25%; /* Center column is wider */
    grid-template-rows: 100%;
    gap: 10px;
    flex-grow: 1;
    overflow: hidden;
}

.col-left, .col-center, .col-right {
    display: flex;
    flex-direction: column;
    gap: 10px;
    height: 100%;
}

/* CARDS */
.card {
    background: var(--bg-panel);
    border: 1px solid var(--border);
    border-radius: 6px;
    padding: 10px;
    display: flex;
    flex-direction: column;
}
.card-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    font-size: 0.8rem;
    color: var(--text-dim);
    margin-bottom: 8px;
    text-transform: uppercase;
    letter-spacing: 1px;
}

/* SPECIFIC CARD SIZING */
.spectrum-card { flex: 1; } /* Takes available space */
.stats-card { height: 150px; }

.scope-card { flex: 2; position: relative; } /* Main focus */
.tone-card { flex: 1; }

.tool-card { height: auto; }
.history-card { flex: 1; }

/* CANVAS */
canvas {
    background: #000;
    border: 1px solid #222;
    width: 100%;
    flex-grow: 1; /* Fills the card */
    border-radius: 4px;
}

/* READOUTS */
.readout-group { display: flex; justify-content: space-between; margin-top: 5px; font-family: var(--font-mono); font-size: 0.8rem; }
.big-readout { font-size: 2rem; color: var(--primary); font-family: var(--font-mono); text-align: center; margin: 10px 0; }
.sub-readout { text-align: center; font-size: 0.9rem; color: var(--text-dim); }
.status-note { font-size: 0.75rem; color: #666; text-align: center; margin-top: 5px; font-style: italic; }
.tool-readout { font-size: 1.2rem; color: white; text-align: center; margin: 10px 0; font-family: var(--font-mono); }
.tool-desc { font-size: 0.8rem; color: #666; margin: 0; }
.sop-panel { display: none; margin-top: 6px; padding: 8px; background: #0a0a0a; border: 1px solid #1f1f1f; border-radius: 4px; font-size: 0.8rem; line-height: 1.4; color: var(--text-dim); }
.sop-panel.open { display: block; }

/* CONTROLS */
.scope-controls { display: flex; gap: 10px; align-items: center; }
.scope-controls label { font-size: 0.7rem; color: var(--text-dim); display: flex; align-items: center; gap: 5px; }
input[type=range] { height: 4px; }

.tone-ui { display: flex; flex-direction: column; gap: 10px; }
.slider-group { display: flex; justify-content: space-between; align-items: center; font-family: var(--font-mono); font-size: 0.9rem; }
.slider-group input { width: 60%; }
.wave-select select { width: 100%; background: black; color: white; border: 1px solid #333; padding: 5px; }

/* RESPONSIVE */
@media (max-width: 1000px) {
    .bento-grid { grid-template-columns: 1fr; overflow-y: auto; }
    body { overflow: auto; height: auto; }
    .col-left, .col-center, .col-right { height: auto; }
    .scope-card { height: 300px; }
}
